# Projekt-spezifische Cursor Rules

## Projekt-Kontext
Dieses Projekt ist ein Headless WordPress Setup für mojo-institut.de.

## Architektur
- **WordPress**: Backend (REST API) - Container: `frontend-mojo-wordpress`
- **Next.js Frontend**: Frontend-App - Container: `frontend-mojo-app`
- **MySQL**: Datenbank - Container: `frontend-mojo-db`
- **Traefik**: Serverseitiges Routing (automatisch über Docker Labels)

## Port-Konfiguration
- Frontend-Port: 46500 (siehe docs/PORT.md)
- WordPress-Port: 46501 (intern)
- MySQL-Port: 3306 (intern)

## Docker-basiert
- **KEIN PM2**: Alles läuft in Docker Containern
- **docker-compose.yml**: Hauptkonfiguration
- **Networks**: `mojo-frontend-network` (extern)

## Code-Standards
- Frontend: TypeScript, Next.js 14 (App Router), React 18
- WordPress: Standard WordPress mit REST API
- Docker: Multi-Stage Builds für optimale Image-Größe

## Entwicklung
- Frontend-Entwicklung: `cd frontend && npm run dev`
- Docker-Entwicklung: `docker-compose up -d`
- Logs: `docker-compose logs -f [service]`

## Deployment
- Projekt wird automatisch über CI/CD deployed
- Traefik erkennt Services automatisch über Docker Labels
- Siehe .github/workflows/ci-cd.yml

## Wichtige Dateien
- `docker-compose.yml`: Container-Konfiguration
- `frontend/Dockerfile`: Frontend Build
- `frontend/src/app/page.tsx`: Hauptseite
- `frontend/src/lib/wordpress.ts`: WordPress API Client
- `.env`: Umgebungsvariablen (nicht committen!)

## WordPress REST API
- Endpoint: `/wp-json/wp/v2`
- Hauptseite: `/wp-json/wp/v2/pages?per_page=1&orderby=menu_order&order=asc`
- Frontend nutzt: `fetchWordPressPage()` aus `src/lib/wordpress.ts`

## Traefik Labels
- Frontend Router: `Host(dev.frontend.mojo-institut.de)`
- WordPress API Router: `Host(dev.frontend.mojo-institut.de) && PathPrefix(/wp-json)`
- Entrypoints: `websecure` (HTTPS)
- TLS: Let's Encrypt (`letsencrypt` resolver)


